@model AccionMascota



<head>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons">
    <link rel="stylesheet" href="https://unpkg.com/bootstrap-material-design@4.1.1/dist/css/bootstrap-material-design.min.css" integrity="sha384-wXznGJNEXNG1NFsbm0ugrLFMQPWswR3lds2VeinahP8N0zJw9VWSopbjv2x7WCvX" crossorigin="anonymous">
    <style>
        .control-label {
            font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;
            font-size: 1.1em;
        }
    </style>
</head>

<form asp-action="MascotaAccion" method="post">
    <div class="col-12">
        <div class="card">
            <div class="card-header" style="background-color: lightgrey;max-height:30%">
                <a style="font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; font-size:1em;font-weight: 600; "> <img class="img-fluid" alt="macota image" src="~/images/pets.png" /> Registro de Mascotas </a>

            </div>
            <div class="card-body">
                <input type="hidden" id="masc_Id" asp-for="masc_Id" value="@ViewBag.masc_Id" />
                <div class="portlet-body">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label class="control-label">Nombre Mascota</label>
                                <input class="form-control" asp-for="masc_Nombre" id="masc_Nombre" type="text" maxlength="13" required />
                                <span class="text-danger" id="ErrorMessage"></span>
                            </div>
                        </div>

                    </div>


                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="control-label">Especie</label>
                                <select asp-for="espc_Id" class="form-control" id="DropEspecie" asp-items="Model.Especielist">
                                    <option>Seleccione una opcion</option>
                                </select>
                                <span class="text-danger" asp-validation-for="espc_Id" id="ErrorMessage"></span>
                            </div>
                        </div>

                        <div class="col-sm-6">
                            <div class="form-group">
                                <label asp-for="raza_Id" class="control-label"></label>
                                <select asp-for="raza_Id" class="form-control" id="DropRaza">
                                    <option>Seleccione una raza</option>
                                </select>
                                <span class="text-danger" asp-validation-for="raza_Id"></span>
                            </div>
                        </div>
                    </div>
                    <div class="row">

                        <div class="col-md-4 ">
                            <div class="form-group">
                                <label class="control-label">Sexo</label>
                                <input class="form-control" asp-for="masc_Sexo" id="masc_Sexo" type="text" maxlength="50" required />
                                <span class="text-danger" id="ErrorMessage"></span>
                            </div>
                        </div>
                        <div class="col-md-4 ">
                            <div class="form-group">
                                <label class="control-label">Edad</label>
                                <input class="form-control" asp-for="masc_Edad" id="masc_Edad" type="text" maxlength="50" />
                                <span class="text-danger" id="ErrorMessage"></span>
                            </div>
                        </div>

                        <div class="col-md-4 ">
                            <div class="form-group">
                                <label class="control-label">Procedencia</label>
                                <select asp-for="proc_Id" class="form-control" asp-items="Model.Procedencialist">
                                    <option>Seleccione una opcion</option>
                                </select>
                                <span class="text-danger" asp-validation-for="proc_Id" id="ErrorMessage"></span>
                            </div>
                        </div>
                    </div>
                    <div class="row">

                        <div class="col-md-4 ">
                            <div class="form-group">
                                <label class="control-label">Peso</label>
                                <input class="form-control" asp-for="masc_Peso" id="masc_Peso" type="text" maxlength="50" />
                                <span class="text-danger" id="ErrorMessage"></span>
                            </div>
                        </div>
                        <div class="col-md-4 ">
                            <div class="form-group">
                                <label class="control-label">Talla</label>
                                <input class="form-control" asp-for="masc_Talla" id="masc_Talla" type="text" maxlength="8" required />
                                <span class="text-danger" id="ErrorMessage"></span>
                            </div>
                        </div>

                        <div class="col-md-4 ">
                            <div class="form-group">
                                <label class="control-label">Color</label>
                                <input class="form-control" asp-for="masc_Color" id="masc_Color" type="text" maxlength="8" required />
                                <span class="text-danger" id="ErrorMessage"></span>
                            </div>
                        </div>
                    </div>



                    <div class="row">

                        <div class="col-md-12">

                            <div class="form-group">
                                <label class="control-label">Nombre Empleado</label>
                                <select asp-for="emp_Id" class="form-control" asp-items="Model.Empleadolist">
                                    <option>Seleccione una opcion</option>
                                </select>
                                <span class="text-danger" asp-validation-for="emp_Id" id="ErrorMessage"></span>
                            </div>
                        </div>

                    </div>

                    <div class="row">
                        <div class="col-md-12 ">
                            <div class="form-group">
                                <label class="control-label">Historial</label>
                                <textarea class="form-control" asp-for="masc_HistorialDescripcion" id="masc_HistorialDescripcion" maxlength="100" type="text"></textarea>
                                <span class="text-danger" id="ErrorMessage"></span>
                            </div>
                        </div>


                    </div>
                    @if (Model.masc_Id > 0)
                    {
                        <div class="col-md-4 ">
                            <div class="form-group">
                                <label class="control-label">Es Adoptado</label>
                                <input class="form-control" asp-for="masc_EsAdoptado" id="masc_EsAdoptado" type="checkbox" />
                                <span class="text-danger" id="ErrorMessage"></span>
                            </div>
                        </div>

                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="control-label">Es Reservado</label>
                                <input class="form-control" asp-for="masc_EsReservado" id="masc_EsReservado" type="checkbox" maxlength="8" required />
                                <span class="text-danger" id="ErrorMessage"></span>
                            </div>
                        </div>
                    }
                    else
                    {

                    }


                    <div class="form-group row m-t-20">
                        <div class="col-12">
                            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <button class="btn btn-raised btn-primary"><i class="mdi mdi-content-save"></i><span>@(Model.masc_Id > 0 ? "Guardar Cambios" : "Guardar")</span></button>
                            <a style="background-color:gray;color:white" asp-controller="Mascotas" asp-action="Index" class="btn btn-secundary">Cancelar</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>






@section Scripts{

    <script>
        $(document).ready(function () {
            console.log("hola");
        })
        $('#DropEspecie').change(function () {
            var especie = $(this).val();
            console.log(especie);
            $('#DropRaza').empty();
            $('#DropRaza').append('<option>Seleccione una raza</option>');
            $.getJSON("/Mascotas/RazasList/" + especie, function (data) {
                $.each(data, function (key, value) {
                    $('#DropRaza').append('<option value="' + value.raza_Id + '">' + value.raza_Descripcion + '</option>');
                });
            });
        })
    </script>
    <script src="~/js/Catalogo/llenar-dropdow-list.js"></script>
}
